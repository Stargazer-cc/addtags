/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise, SuppressedError, Symbol, Iterator */


function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
    var e = new Error(message);
    return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};

const DEFAULT_SETTINGS = {
    tagGroups: []
};
class TagGroupManagerPlugin extends obsidian.Plugin {
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.loadSettings();
            // 为每个标签组注册命令
            this.registerTagGroupCommands();
            // 添加设置选项卡
            this.addSettingTab(new TagGroupManagerSettingTab(this.app, this));
        });
    }
    onunload() {
        // 清理工作
    }
    // 注册每个标签组的命令
    registerTagGroupCommands() {
        // 清除现有命令
        // @ts-ignore
        this.app.commands.commands = Object.fromEntries(
        // @ts-ignore
        Object.entries(this.app.commands.commands).filter(([id]) => !id.startsWith('tag-group-manager:insert-')));
        // 为每个标签组注册新命令
        this.settings.tagGroups.forEach(group => {
            this.addCommand({
                id: `insert-tags-from-${group.name.toLowerCase().replace(/\s+/g, '-')}`,
                name: `在此处插入「${group.name}」里的标签`,
                editorCallback: (editor, view) => {
                    if (group.tags.length > 0) {
                        new TagSelectorModal(this.app, editor, group.tags.slice()).open();
                    }
                    else {
                        new obsidian.Notice('该标签组没有标签');
                    }
                }
            });
        });
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
            // 更新命令
            this.registerTagGroupCommands();
        });
    }
}
// 标签选择器（不使用模态框）
class TagSelectorModal {
    constructor(app, editor, tags) {
        this.isPinned = false;
        this.initialX = 0;
        this.initialY = 0;
        this.offsetX = 0;
        this.offsetY = 0;
        this.handleMouseMove = (e) => {
            if (this.isPinned)
                return; // 如果已固定，则不处理移动事件
            e.preventDefault();
            // 计算新位置
            const newX = e.clientX - this.offsetX;
            const newY = e.clientY - this.offsetY;
            // 应用新位置
            this.rootEl.style.left = `${newX}px`;
            this.rootEl.style.top = `${newY}px`;
        };
        this.handleMouseUp = () => {
            // 移除事件监听器
            document.removeEventListener('mousemove', this.handleMouseMove);
            document.removeEventListener('mouseup', this.handleMouseUp);
        };
        this.app = app;
        this.editor = editor;
        this.tags = tags;
        // 创建根元素
        this.rootEl = document.createElement('div');
        this.rootEl.addClass('tag-group-selector-modal');
    }
    open() {
        // 设置初始定位样式
        this.rootEl.style.position = 'absolute';
        this.rootEl.style.zIndex = '9999';
        // 创建顶部栏
        const topBar = this.rootEl.createDiv('tag-selector-top-bar');
        // 创建拖动句柄
        this.dragHandle = topBar.createDiv('tag-selector-drag-handle');
        this.dragHandle.setText('拖动');
        this.setupDrag();
        // 创建固定按钮
        const pinButton = topBar.createDiv('tag-selector-pin-button');
        pinButton.setText('📌');
        pinButton.addEventListener('click', () => {
            this.isPinned = !this.isPinned;
            pinButton.toggleClass('active', this.isPinned);
        });
        // 创建关闭按钮
        const closeButton = topBar.createDiv('tag-selector-close-button');
        closeButton.setText('✕');
        closeButton.addEventListener('click', () => {
            this.close();
        });
        // 创建标签容器
        this.containerEl = this.rootEl.createDiv('tag-selector-container');
        this.renderTags();
        // 将元素添加到文档中
        document.body.appendChild(this.rootEl);
        // 设置初始位置在视口中央
        const rect = this.rootEl.getBoundingClientRect();
        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;
        this.rootEl.style.left = `${(viewportWidth - rect.width) / 2}px`;
        this.rootEl.style.top = `${(viewportHeight - rect.height) / 3}px`;
    }
    setupDrag() {
        this.dragHandle.addEventListener('mousedown', (e) => {
            if (this.isPinned)
                return; // 如果已固定，则不允许拖动
            e.preventDefault();
            // 获取初始位置
            this.initialX = e.clientX;
            this.initialY = e.clientY;
            // 获取当前位置
            const rect = this.rootEl.getBoundingClientRect();
            this.offsetX = this.initialX - rect.left;
            this.offsetY = this.initialY - rect.top;
            // 添加移动和释放事件监听器
            document.addEventListener('mousemove', this.handleMouseMove);
            document.addEventListener('mouseup', this.handleMouseUp);
        });
    }
    renderTags() {
        this.containerEl.empty();
        if (this.tags.length === 0) {
            this.close();
            return;
        }
        this.tags.forEach((tag) => {
            const tagEl = this.containerEl.createDiv('tag-item');
            tagEl.setText(`#${tag}`);
            tagEl.addEventListener('click', () => {
                // 在光标位置插入标签
                this.editor.replaceSelection(`#${tag} `);
                // 从列表中移除该标签
                this.tags = this.tags.filter(t => t !== tag);
                // 重新渲染标签列表
                this.renderTags();
            });
        });
    }
    close() {
        // 从DOM中移除元素
        if (this.rootEl && this.rootEl.parentNode) {
            this.rootEl.parentNode.removeChild(this.rootEl);
        }
    }
}
// 设置选项卡
class TagGroupManagerSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        const { containerEl } = this;
        containerEl.empty();
        containerEl.createEl('h2', { text: '标签组管理器设置' });
        // 添加新标签组的按钮
        new obsidian.Setting(containerEl)
            .setName('添加新标签组')
            .setDesc('创建一个新的标签组')
            .addButton(cb => cb
            .setButtonText('添加标签组')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.tagGroups.push({
                name: '新标签组',
                tags: []
            });
            yield this.plugin.saveSettings();
            this.display();
        })));
        // 显示现有标签组
        this.plugin.settings.tagGroups.forEach((group, index) => {
            new obsidian.Setting(containerEl)
                .setName('标签组')
                .setDesc('管理标签组及其标签')
                .addText(text => text
                .setPlaceholder('标签组名称')
                .setValue(group.name)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.tagGroups[index].name = value;
                yield this.plugin.saveSettings();
            })))
                .addButton(cb => cb
                .setButtonText('删除')
                .onClick(() => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.tagGroups.splice(index, 1);
                yield this.plugin.saveSettings();
                this.display();
            })));
            // 标签管理区域
            const tagsContainer = containerEl.createDiv('tags-container');
            const tagsHeader = tagsContainer.createDiv('tags-header');
            tagsHeader.setText(`${group.name} 的标签:`);
            // 显示现有标签
            const tagsList = tagsContainer.createDiv('tags-list');
            group.tags.forEach((tag, tagIndex) => {
                const tagEl = tagsList.createDiv('tag-item');
                const tagText = tagEl.createSpan('tag-text');
                tagText.setText(`#${tag}`);
                const deleteBtn = tagEl.createSpan('tag-delete-btn');
                deleteBtn.setText('✕');
                deleteBtn.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {
                    this.plugin.settings.tagGroups[index].tags.splice(tagIndex, 1);
                    yield this.plugin.saveSettings();
                    this.display();
                }));
            });
            // 添加新标签
            const addTagContainer = tagsContainer.createDiv('add-tag-container');
            const addTagInput = addTagContainer.createEl('input', {
                type: 'text',
                placeholder: '输入标签（不含#）'
            });
            const addTagBtn = addTagContainer.createEl('button', {
                text: '添加标签'
            });
            addTagBtn.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {
                const tagValue = addTagInput.value.trim();
                if (tagValue && !this.plugin.settings.tagGroups[index].tags.includes(tagValue)) {
                    this.plugin.settings.tagGroups[index].tags.push(tagValue);
                    yield this.plugin.saveSettings();
                    addTagInput.value = '';
                    this.display();
                }
            }));
        });
    }
}

module.exports = TagGroupManagerPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5cbmludGVyZmFjZSBUYWdHcm91cCB7XG5cdG5hbWU6IHN0cmluZztcblx0dGFnczogc3RyaW5nW107XG59XG5cbmludGVyZmFjZSBUYWdHcm91cE1hbmFnZXJTZXR0aW5ncyB7XG5cdHRhZ0dyb3VwczogVGFnR3JvdXBbXTtcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogVGFnR3JvdXBNYW5hZ2VyU2V0dGluZ3MgPSB7XG5cdHRhZ0dyb3VwczogW11cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhZ0dyb3VwTWFuYWdlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBUYWdHcm91cE1hbmFnZXJTZXR0aW5ncztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdC8vIOS4uuavj+S4quagh+etvue7hOazqOWGjOWRveS7pFxuXHRcdHRoaXMucmVnaXN0ZXJUYWdHcm91cENvbW1hbmRzKCk7XG5cblx0XHQvLyDmt7vliqDorr7nva7pgInpobnljaFcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFRhZ0dyb3VwTWFuYWdlclNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdC8vIOa4heeQhuW3peS9nFxuXHR9XG5cblx0Ly8g5rOo5YaM5q+P5Liq5qCH562+57uE55qE5ZG95LukXG5cdHJlZ2lzdGVyVGFnR3JvdXBDb21tYW5kcygpIHtcblx0XHQvLyDmuIXpmaTnjrDmnInlkb3ku6Rcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0dGhpcy5hcHAuY29tbWFuZHMuY29tbWFuZHMgPSBPYmplY3QuZnJvbUVudHJpZXMoXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRPYmplY3QuZW50cmllcyh0aGlzLmFwcC5jb21tYW5kcy5jb21tYW5kcykuZmlsdGVyKChbaWRdKSA9PiAhaWQuc3RhcnRzV2l0aCgndGFnLWdyb3VwLW1hbmFnZXI6aW5zZXJ0LScpKVxuXHRcdCk7XG5cblx0XHQvLyDkuLrmr4/kuKrmoIfnrb7nu4Tms6jlhozmlrDlkb3ku6Rcblx0XHR0aGlzLnNldHRpbmdzLnRhZ0dyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcblx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdGlkOiBgaW5zZXJ0LXRhZ3MtZnJvbS0ke2dyb3VwLm5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9YCxcblx0XHRcdFx0bmFtZTogYOWcqOatpOWkhOaPkuWFpeOAjCR7Z3JvdXAubmFtZX3jgI3ph4znmoTmoIfnrb5gLFxuXHRcdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0XHRpZiAoZ3JvdXAudGFncy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRuZXcgVGFnU2VsZWN0b3JNb2RhbCh0aGlzLmFwcCwgZWRpdG9yLCBncm91cC50YWdzLnNsaWNlKCkpLm9wZW4oKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgn6K+l5qCH562+57uE5rKh5pyJ5qCH562+Jyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHRcdC8vIOabtOaWsOWRveS7pFxuXHRcdHRoaXMucmVnaXN0ZXJUYWdHcm91cENvbW1hbmRzKCk7XG5cdH1cbn1cblxuLy8g5qCH562+6YCJ5oup5Zmo77yI5LiN5L2/55So5qih5oCB5qGG77yJXG5jbGFzcyBUYWdTZWxlY3Rvck1vZGFsIHtcblx0cHJpdmF0ZSBhcHA6IEFwcDtcblx0cHJpdmF0ZSBlZGl0b3I6IEVkaXRvcjtcblx0cHJpdmF0ZSB0YWdzOiBzdHJpbmdbXTtcblx0cHVibGljIGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudDtcblx0cHJpdmF0ZSByb290RWw6IEhUTUxFbGVtZW50O1xuXHRwcml2YXRlIGlzUGlubmVkOiBib29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgZHJhZ0hhbmRsZTogSFRNTEVsZW1lbnQ7XG5cdHByaXZhdGUgaW5pdGlhbFg6IG51bWJlciA9IDA7XG5cdHByaXZhdGUgaW5pdGlhbFk6IG51bWJlciA9IDA7XG5cdHByaXZhdGUgb2Zmc2V0WDogbnVtYmVyID0gMDtcblx0cHJpdmF0ZSBvZmZzZXRZOiBudW1iZXIgPSAwO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBlZGl0b3I6IEVkaXRvciwgdGFnczogc3RyaW5nW10pIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLmVkaXRvciA9IGVkaXRvcjtcblx0XHR0aGlzLnRhZ3MgPSB0YWdzO1xuXHRcdC8vIOWIm+W7uuagueWFg+e0oFxuXHRcdHRoaXMucm9vdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dGhpcy5yb290RWwuYWRkQ2xhc3MoJ3RhZy1ncm91cC1zZWxlY3Rvci1tb2RhbCcpO1xuXHR9XG5cblx0b3BlbigpIHtcblx0XHQvLyDorr7nva7liJ3lp4vlrprkvY3moLflvI9cblx0XHR0aGlzLnJvb3RFbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdFx0dGhpcy5yb290RWwuc3R5bGUuekluZGV4ID0gJzk5OTknO1xuXHRcdFxuXHRcdC8vIOWIm+W7uumhtumDqOagj1xuXHRcdGNvbnN0IHRvcEJhciA9IHRoaXMucm9vdEVsLmNyZWF0ZURpdigndGFnLXNlbGVjdG9yLXRvcC1iYXInKTtcblx0XHRcblx0XHQvLyDliJvlu7rmi5bliqjlj6Xmn4Rcblx0XHR0aGlzLmRyYWdIYW5kbGUgPSB0b3BCYXIuY3JlYXRlRGl2KCd0YWctc2VsZWN0b3ItZHJhZy1oYW5kbGUnKTtcblx0XHR0aGlzLmRyYWdIYW5kbGUuc2V0VGV4dCgn5ouW5YqoJyk7XG5cdFx0dGhpcy5zZXR1cERyYWcoKTtcblxuXHRcdC8vIOWIm+W7uuWbuuWumuaMiemSrlxuXHRcdGNvbnN0IHBpbkJ1dHRvbiA9IHRvcEJhci5jcmVhdGVEaXYoJ3RhZy1zZWxlY3Rvci1waW4tYnV0dG9uJyk7XG5cdFx0cGluQnV0dG9uLnNldFRleHQoJ/Cfk4wnKTtcblx0XHRwaW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmlzUGlubmVkID0gIXRoaXMuaXNQaW5uZWQ7XG5cdFx0XHRwaW5CdXR0b24udG9nZ2xlQ2xhc3MoJ2FjdGl2ZScsIHRoaXMuaXNQaW5uZWQpO1xuXHRcdH0pO1xuXG5cdFx0Ly8g5Yib5bu65YWz6Zet5oyJ6ZKuXG5cdFx0Y29uc3QgY2xvc2VCdXR0b24gPSB0b3BCYXIuY3JlYXRlRGl2KCd0YWctc2VsZWN0b3ItY2xvc2UtYnV0dG9uJyk7XG5cdFx0Y2xvc2VCdXR0b24uc2V0VGV4dCgn4pyVJyk7XG5cdFx0Y2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0fSk7XG5cblx0XHQvLyDliJvlu7rmoIfnrb7lrrnlmahcblx0XHR0aGlzLmNvbnRhaW5lckVsID0gdGhpcy5yb290RWwuY3JlYXRlRGl2KCd0YWctc2VsZWN0b3ItY29udGFpbmVyJyk7XG5cdFx0dGhpcy5yZW5kZXJUYWdzKCk7XG5cblx0XHQvLyDlsIblhYPntKDmt7vliqDliLDmlofmoaPkuK1cblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucm9vdEVsKTtcblxuXHRcdC8vIOiuvue9ruWIneWni+S9jee9ruWcqOinhuWPo+S4reWkrlxuXHRcdGNvbnN0IHJlY3QgPSB0aGlzLnJvb3RFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRjb25zdCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdFx0Y29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cdFx0dGhpcy5yb290RWwuc3R5bGUubGVmdCA9IGAkeyh2aWV3cG9ydFdpZHRoIC0gcmVjdC53aWR0aCkgLyAyfXB4YDtcblx0XHR0aGlzLnJvb3RFbC5zdHlsZS50b3AgPSBgJHsodmlld3BvcnRIZWlnaHQgLSByZWN0LmhlaWdodCkgLyAzfXB4YDtcblx0fVxuXG5cdHNldHVwRHJhZygpIHtcblx0XHR0aGlzLmRyYWdIYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcblx0XHRcdGlmICh0aGlzLmlzUGlubmVkKSByZXR1cm47IC8vIOWmguaenOW3suWbuuWumu+8jOWImeS4jeWFgeiuuOaLluWKqFxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XG5cdFx0XHQvLyDojrflj5bliJ3lp4vkvY3nva5cblx0XHRcdHRoaXMuaW5pdGlhbFggPSBlLmNsaWVudFg7XG5cdFx0XHR0aGlzLmluaXRpYWxZID0gZS5jbGllbnRZO1xuXHRcdFx0XG5cdFx0XHQvLyDojrflj5blvZPliY3kvY3nva5cblx0XHRcdGNvbnN0IHJlY3QgPSB0aGlzLnJvb3RFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdHRoaXMub2Zmc2V0WCA9IHRoaXMuaW5pdGlhbFggLSByZWN0LmxlZnQ7XG5cdFx0XHR0aGlzLm9mZnNldFkgPSB0aGlzLmluaXRpYWxZIC0gcmVjdC50b3A7XG5cdFx0XHRcblx0XHRcdC8vIOa3u+WKoOenu+WKqOWSjOmHiuaUvuS6i+S7tuebkeWQrOWZqFxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7XG5cdFx0fSk7XG5cdH1cblxuXHRoYW5kbGVNb3VzZU1vdmUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRcdGlmICh0aGlzLmlzUGlubmVkKSByZXR1cm47IC8vIOWmguaenOW3suWbuuWumu+8jOWImeS4jeWkhOeQhuenu+WKqOS6i+S7tlxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcblx0XHQvLyDorqHnrpfmlrDkvY3nva5cblx0XHRjb25zdCBuZXdYID0gZS5jbGllbnRYIC0gdGhpcy5vZmZzZXRYO1xuXHRcdGNvbnN0IG5ld1kgPSBlLmNsaWVudFkgLSB0aGlzLm9mZnNldFk7XG5cdFx0XG5cdFx0Ly8g5bqU55So5paw5L2N572uXG5cdFx0dGhpcy5yb290RWwuc3R5bGUubGVmdCA9IGAke25ld1h9cHhgO1xuXHRcdHRoaXMucm9vdEVsLnN0eWxlLnRvcCA9IGAke25ld1l9cHhgO1xuXHR9O1xuXG5cdGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XG5cdFx0Ly8g56e76Zmk5LqL5Lu255uR5ZCs5ZmoXG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuXHR9O1xuXG5cdHJlbmRlclRhZ3MoKSB7XG5cdFx0dGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdFxuXHRcdGlmICh0aGlzLnRhZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy50YWdzLmZvckVhY2goKHRhZykgPT4ge1xuXHRcdFx0Y29uc3QgdGFnRWwgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdigndGFnLWl0ZW0nKTtcblx0XHRcdHRhZ0VsLnNldFRleHQoYCMke3RhZ31gKTtcblx0XHRcdHRhZ0VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHQvLyDlnKjlhYnmoIfkvY3nva7mj5LlhaXmoIfnrb5cblx0XHRcdFx0dGhpcy5lZGl0b3IucmVwbGFjZVNlbGVjdGlvbihgIyR7dGFnfSBgKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIOS7juWIl+ihqOS4reenu+mZpOivpeagh+etvlxuXHRcdFx0XHR0aGlzLnRhZ3MgPSB0aGlzLnRhZ3MuZmlsdGVyKHQgPT4gdCAhPT0gdGFnKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIOmHjeaWsOa4suafk+agh+etvuWIl+ihqFxuXHRcdFx0XHR0aGlzLnJlbmRlclRhZ3MoKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0Y2xvc2UoKSB7XG5cdFx0Ly8g5LuORE9N5Lit56e76Zmk5YWD57SgXG5cdFx0aWYgKHRoaXMucm9vdEVsICYmIHRoaXMucm9vdEVsLnBhcmVudE5vZGUpIHtcblx0XHRcdHRoaXMucm9vdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5yb290RWwpO1xuXHRcdH1cblx0fVxufVxuXG4vLyDorr7nva7pgInpobnljaFcbmNsYXNzIFRhZ0dyb3VwTWFuYWdlclNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBUYWdHcm91cE1hbmFnZXJQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogVGFnR3JvdXBNYW5hZ2VyUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ+agh+etvue7hOeuoeeQhuWZqOiuvue9ricgfSk7XG5cblx0XHQvLyDmt7vliqDmlrDmoIfnrb7nu4TnmoTmjInpkq5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCfmt7vliqDmlrDmoIfnrb7nu4QnKVxuXHRcdFx0LnNldERlc2MoJ+WIm+W7uuS4gOS4quaWsOeahOagh+etvue7hCcpXG5cdFx0XHQuYWRkQnV0dG9uKGNiID0+IGNiXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCfmt7vliqDmoIfnrb7nu4QnKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudGFnR3JvdXBzLnB1c2goe1xuXHRcdFx0XHRcdFx0bmFtZTogJ+aWsOagh+etvue7hCcsXG5cdFx0XHRcdFx0XHR0YWdzOiBbXVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHQvLyDmmL7npLrnjrDmnInmoIfnrb7nu4Rcblx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50YWdHcm91cHMuZm9yRWFjaCgoZ3JvdXAsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCBncm91cFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdFx0LnNldE5hbWUoJ+agh+etvue7hCcpXG5cdFx0XHRcdC5zZXREZXNjKCfnrqHnkIbmoIfnrb7nu4Tlj4rlhbbmoIfnrb4nKVxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ+agh+etvue7hOWQjeensCcpXG5cdFx0XHRcdFx0LnNldFZhbHVlKGdyb3VwLm5hbWUpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudGFnR3JvdXBzW2luZGV4XS5uYW1lID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KSlcblx0XHRcdFx0LmFkZEJ1dHRvbihjYiA9PiBjYlxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCfliKDpmaQnKVxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRhZ0dyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdC8vIOagh+etvueuoeeQhuWMuuWfn1xuXHRcdFx0Y29uc3QgdGFnc0NvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdigndGFncy1jb250YWluZXInKTtcblx0XHRcdGNvbnN0IHRhZ3NIZWFkZXIgPSB0YWdzQ29udGFpbmVyLmNyZWF0ZURpdigndGFncy1oZWFkZXInKTtcblx0XHRcdHRhZ3NIZWFkZXIuc2V0VGV4dChgJHtncm91cC5uYW1lfSDnmoTmoIfnrb46YCk7XG5cblx0XHRcdC8vIOaYvuekuueOsOacieagh+etvlxuXHRcdFx0Y29uc3QgdGFnc0xpc3QgPSB0YWdzQ29udGFpbmVyLmNyZWF0ZURpdigndGFncy1saXN0Jyk7XG5cdFx0XHRncm91cC50YWdzLmZvckVhY2goKHRhZywgdGFnSW5kZXgpID0+IHtcblx0XHRcdFx0Y29uc3QgdGFnRWwgPSB0YWdzTGlzdC5jcmVhdGVEaXYoJ3RhZy1pdGVtJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCB0YWdUZXh0ID0gdGFnRWwuY3JlYXRlU3BhbigndGFnLXRleHQnKTtcblx0XHRcdFx0dGFnVGV4dC5zZXRUZXh0KGAjJHt0YWd9YCk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBkZWxldGVCdG4gPSB0YWdFbC5jcmVhdGVTcGFuKCd0YWctZGVsZXRlLWJ0bicpO1xuXHRcdFx0XHRkZWxldGVCdG4uc2V0VGV4dCgn4pyVJyk7XG5cdFx0XHRcdGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50YWdHcm91cHNbaW5kZXhdLnRhZ3Muc3BsaWNlKHRhZ0luZGV4LCAxKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8g5re75Yqg5paw5qCH562+XG5cdFx0XHRjb25zdCBhZGRUYWdDb250YWluZXIgPSB0YWdzQ29udGFpbmVyLmNyZWF0ZURpdignYWRkLXRhZy1jb250YWluZXInKTtcblx0XHRcdGNvbnN0IGFkZFRhZ0lucHV0ID0gYWRkVGFnQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtcblx0XHRcdFx0dHlwZTogJ3RleHQnLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogJ+i+k+WFpeagh+etvu+8iOS4jeWQqyPvvIknXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Y29uc3QgYWRkVGFnQnRuID0gYWRkVGFnQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHRcdHRleHQ6ICfmt7vliqDmoIfnrb4nXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0YWRkVGFnQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCB0YWdWYWx1ZSA9IGFkZFRhZ0lucHV0LnZhbHVlLnRyaW0oKTtcblx0XHRcdFx0aWYgKHRhZ1ZhbHVlICYmICF0aGlzLnBsdWdpbi5zZXR0aW5ncy50YWdHcm91cHNbaW5kZXhdLnRhZ3MuaW5jbHVkZXModGFnVmFsdWUpKSB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudGFnR3JvdXBzW2luZGV4XS50YWdzLnB1c2godGFnVmFsdWUpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdGFkZFRhZ0lucHV0LnZhbHVlID0gJyc7XG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG59Il0sIm5hbWVzIjpbIlBsdWdpbiIsIk5vdGljZSIsIlBsdWdpblNldHRpbmdUYWIiLCJTZXR0aW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVdBLE1BQU0sZ0JBQWdCLEdBQTRCO0FBQ2pELElBQUEsU0FBUyxFQUFFO0NBQ1g7QUFFb0IsTUFBQSxxQkFBc0IsU0FBUUEsZUFBTSxDQUFBO0lBR2xELE1BQU0sR0FBQTs7QUFDWCxZQUFBLE1BQU0sSUFBSSxDQUFDLFlBQVksRUFBRTs7WUFHekIsSUFBSSxDQUFDLHdCQUF3QixFQUFFOztBQUcvQixZQUFBLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ2pFLENBQUE7QUFBQTtJQUVELFFBQVEsR0FBQTs7OztJQUtSLHdCQUF3QixHQUFBOzs7UUFHdkIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxXQUFXOztBQUU5QyxRQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxF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
